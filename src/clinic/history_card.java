/*
 * history_card.java
 *
 * Created on February 10, 2012, 1:17 PM
 */

package clinic;
import java.util.Date;
import javax.swing.*;
import java.sql.*;
/**
 *
 * @author  Administrator
 */
public class history_card extends javax.swing.JFrame {
    
    /** Creates new form history_card */
    int a,mn,op;
   public history_card(String names,String allergys,String genders,String codes,int ages,Date dates,String visit,String dieseases,String treatements,int row,int sel_row,String treatement_id) {
       initComponents();
       txtname.setText(names);
        txtcode.setText(codes);
        txtallergy.setText(allergys);
        txtgender.setText(genders);
        txtage.setText(""+ages);
        lbldate1.setText(""+dates);
        lblvisit.setText(visit);
        txttreatement.setText(treatements);
        txtdiesease.setText(dieseases);
        a=sel_row;
        mn=Integer.parseInt(treatement_id);
        op=row;  
   
   }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel4 = new javax.swing.JPanel();
        lblhistory = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        lbldate = new javax.swing.JLabel();
        lblname = new javax.swing.JLabel();
        lblallergy = new javax.swing.JLabel();
        lblcode = new javax.swing.JLabel();
        lblgender = new javax.swing.JLabel();
        lblage = new javax.swing.JLabel();
        txtname = new javax.swing.JTextField();
        txtallergy = new javax.swing.JTextField();
        txtcode = new javax.swing.JTextField();
        txtgender = new javax.swing.JTextField();
        txtage = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        lbldate1 = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        btnprevious = new javax.swing.JButton();
        btnnext = new javax.swing.JButton();
        btnback = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txtdiesease = new javax.swing.JTextArea();
        jScrollPane2 = new javax.swing.JScrollPane();
        txttreatement = new javax.swing.JTextArea();
        lbldiesease = new javax.swing.JLabel();
        lbltreatment = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        lblvisit = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("History Card");
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowActivated(java.awt.event.WindowEvent evt) {
                formWindowActivated(evt);
            }
        });

        lblhistory.setFont(new java.awt.Font("Times New Roman", 1, 36));
        lblhistory.setForeground(new java.awt.Color(0, 102, 0));
        lblhistory.setText("History");
        lblhistory.setName("lblhistory"); // NOI18N

        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        lbldate.setFont(new java.awt.Font("Times New Roman", 0, 14));
        lbldate.setText("Date");
        lbldate.setName("lbldate"); // NOI18N

        lblname.setFont(new java.awt.Font("Times New Roman", 0, 14));
        lblname.setText("Name");
        lblname.setName("lblname"); // NOI18N

        lblallergy.setFont(new java.awt.Font("Times New Roman", 0, 14));
        lblallergy.setText("Allergy");
        lblallergy.setName("lblallergy"); // NOI18N

        lblcode.setFont(new java.awt.Font("Times New Roman", 0, 14));
        lblcode.setText("Code");
        lblcode.setName("lblcode"); // NOI18N

        lblgender.setFont(new java.awt.Font("Times New Roman", 0, 14));
        lblgender.setText("Gender");
        lblgender.setName("lblgender"); // NOI18N

        lblage.setFont(new java.awt.Font("Times New Roman", 0, 14));
        lblage.setText("Age");
        lblage.setName("lblage"); // NOI18N

        txtname.setEditable(false);
        txtname.setFont(new java.awt.Font("Times New Roman", 0, 14));
        txtname.setBorder(null);
        txtname.setName("txtname"); // NOI18N

        txtallergy.setEditable(false);
        txtallergy.setFont(new java.awt.Font("Times New Roman", 0, 14));
        txtallergy.setBorder(null);
        txtallergy.setName("txtallergy"); // NOI18N

        txtcode.setEditable(false);
        txtcode.setFont(new java.awt.Font("Times New Roman", 0, 14));
        txtcode.setBorder(null);
        txtcode.setName("txtcode"); // NOI18N

        txtgender.setEditable(false);
        txtgender.setFont(new java.awt.Font("Times New Roman", 0, 14));
        txtgender.setBorder(null);
        txtgender.setName("txtgender"); // NOI18N

        txtage.setEditable(false);
        txtage.setFont(new java.awt.Font("Times New Roman", 0, 14));
        txtage.setBorder(null);
        txtage.setName("txtage"); // NOI18N

        jLabel7.setName("lbldate"); // NOI18N

        lbldate1.setName("lbldate1"); // NOI18N

        org.jdesktop.layout.GroupLayout jPanel1Layout = new org.jdesktop.layout.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(lbldate)
                            .add(jPanel1Layout.createSequentialGroup()
                                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                                    .add(lblallergy)
                                    .add(lblname))
                                .add(19, 19, 19)
                                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
                                    .add(jPanel1Layout.createSequentialGroup()
                                        .add(6, 6, 6)
                                        .add(lbldate1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 182, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                                    .add(txtname, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 270, Short.MAX_VALUE)
                                    .add(txtallergy)))))
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(107, 107, 107)
                        .add(jLabel7)))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED, 170, Short.MAX_VALUE)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(lblage)
                    .add(lblgender)
                    .add(lblcode))
                .add(38, 38, 38)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
                    .add(txtcode)
                    .add(txtage, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 90, Short.MAX_VALUE)
                    .add(txtgender, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 112, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(185, 185, 185))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jPanel1Layout.createSequentialGroup()
                                .add(28, 28, 28)
                                .add(jLabel7))
                            .add(jPanel1Layout.createSequentialGroup()
                                .addContainerGap()
                                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                                    .add(lbldate)
                                    .add(lbldate1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 34, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))
                        .add(24, 24, 24)
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(lblname)
                            .add(txtname, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 30, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(26, 26, 26)
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(lblallergy)
                            .add(txtallergy, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 30, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                    .add(jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(txtcode, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 30, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(lblcode))
                        .add(24, 24, 24)
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(lblgender)
                            .add(txtgender, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 30, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                        .add(22, 22, 22)
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                            .add(txtage, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 30, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(lblage))))
                .addContainerGap(20, Short.MAX_VALUE))
        );

        btnprevious.setFont(new java.awt.Font("Times New Roman", 0, 14));
        btnprevious.setText("Previous");
        btnprevious.setName("btnprevious"); // NOI18N
        btnprevious.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnpreviousActionPerformed(evt);
            }
        });

        btnnext.setFont(new java.awt.Font("Times New Roman", 0, 14));
        btnnext.setText("Next");
        btnnext.setName("btnnext"); // NOI18N
        btnnext.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnnextActionPerformed(evt);
            }
        });

        btnback.setFont(new java.awt.Font("Times New Roman", 0, 14));
        btnback.setText("Back");
        btnback.setName("btnback"); // NOI18N
        btnback.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnbackActionPerformed(evt);
            }
        });

        org.jdesktop.layout.GroupLayout jPanel3Layout = new org.jdesktop.layout.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel3Layout.createSequentialGroup()
                .add(217, 217, 217)
                .add(btnprevious, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 100, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(61, 61, 61)
                .add(btnnext, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 100, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(67, 67, 67)
                .add(btnback, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 100, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(244, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel3Layout.createSequentialGroup()
                .addContainerGap(22, Short.MAX_VALUE)
                .add(jPanel3Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(btnback, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 30, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(btnnext, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 30, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(btnprevious, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 30, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        txtdiesease.setColumns(1);
        txtdiesease.setEditable(false);
        txtdiesease.setFont(new java.awt.Font("Times New Roman", 0, 14));
        txtdiesease.setLineWrap(true);
        txtdiesease.setRows(1);
        txtdiesease.setTabSize(2);
        txtdiesease.setName("txtdiesease"); // NOI18N
        jScrollPane1.setViewportView(txtdiesease);

        txttreatement.setColumns(1);
        txttreatement.setEditable(false);
        txttreatement.setFont(new java.awt.Font("Times New Roman", 0, 14));
        txttreatement.setLineWrap(true);
        txttreatement.setRows(1);
        txttreatement.setTabSize(2);
        txttreatement.setName("txttreatment"); // NOI18N
        jScrollPane2.setViewportView(txttreatement);

        lbldiesease.setFont(new java.awt.Font("Times New Roman", 1, 18));
        lbldiesease.setForeground(new java.awt.Color(0, 102, 0));
        lbldiesease.setText("Disease");
        lbldiesease.setName("lbldiesease"); // NOI18N

        lbltreatment.setFont(new java.awt.Font("Times New Roman", 1, 18));
        lbltreatment.setForeground(new java.awt.Color(0, 102, 0));
        lbltreatment.setText("Treatment");
        lbltreatment.setName("lbltreatment"); // NOI18N

        org.jdesktop.layout.GroupLayout jPanel2Layout = new org.jdesktop.layout.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel2Layout.createSequentialGroup()
                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel2Layout.createSequentialGroup()
                        .add(112, 112, 112)
                        .add(lbldiesease))
                    .add(jPanel2Layout.createSequentialGroup()
                        .add(22, 22, 22)
                        .add(jScrollPane1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 320, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel2Layout.createSequentialGroup()
                        .add(217, 217, 217)
                        .add(lbltreatment)
                        .addContainerGap(246, Short.MAX_VALUE))
                    .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                        .add(jScrollPane2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 340, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(21, 21, 21))))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(lbldiesease)
                    .add(lbltreatment))
                .add(jPanel2Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel2Layout.createSequentialGroup()
                        .add(15, 15, 15)
                        .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 323, Short.MAX_VALUE))
                    .add(jPanel2Layout.createSequentialGroup()
                        .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)
                        .add(jScrollPane2, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 327, Short.MAX_VALUE)))
                .addContainerGap())
        );

        jLabel1.setFont(new java.awt.Font("Times New Roman", 0, 14));
        jLabel1.setText("Visit No:");

        lblvisit.setName("lblvisit"); // NOI18N

        org.jdesktop.layout.GroupLayout jPanel4Layout = new org.jdesktop.layout.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel4Layout.createSequentialGroup()
                .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel4Layout.createSequentialGroup()
                        .add(307, 307, 307)
                        .add(lblhistory)
                        .add(91, 91, 91)
                        .add(jLabel1)
                        .add(18, 18, 18)
                        .add(lblvisit, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 119, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                    .add(jPanel4Layout.createSequentialGroup()
                        .add(20, 20, 20)
                        .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
                            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel3, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel2, 0, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .add(org.jdesktop.layout.GroupLayout.TRAILING, jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .add(64, 64, 64))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .add(jPanel4Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(lblhistory)
                    .add(jLabel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 31, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(lblvisit, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 30, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jPanel2, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jPanel3, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel4, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel4, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnnextActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnnextActionPerformed

// TODO add your handling code here:
        try
        {
         Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
         Connection con=DriverManager.getConnection("jdbc:odbc:rock");       
         Statement st=con.createStatement();  
         
           if(mn<=op)
         {
         
         ResultSet rs=st.executeQuery("select diesease,treatement,dates ,treatement_id from treatement where treatement_id="+mn+" and code='"+txtcode.getText()+"' ");
           while(rs.next())
          {
             String s1=rs.getString("diesease");
             String s2=rs.getString("treatement");
             String s3=rs.getString("dates");
             String s4=rs.getString("treatement_id");
             txtdiesease.setText(s1);
             txttreatement.setText(s2); 
             lbldate1.setText(s3);
             lblvisit.setText(s4);
           }
         
         st.close();
        con.close();
         }
          else
             {
                 JOptionPane.showMessageDialog(this,"This Is The Last Record");
             }
        }
             catch(SQLException sq)
         {
              JOptionPane.showMessageDialog(this,"Database Error","Treatment",JOptionPane.ERROR_MESSAGE);   
              
         } 
        catch(Exception e)
         {
            JOptionPane.showMessageDialog(this,"Error"+e);
         }
          
        mn++;
    }//GEN-LAST:event_btnnextActionPerformed

    private void formWindowActivated(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowActivated
// TODO add your handling code here:

  
    }//GEN-LAST:event_formWindowActivated

    private void btnpreviousActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnpreviousActionPerformed
// TODO add your handling code here:
    
             try
       {
         Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
         Connection con=DriverManager.getConnection("jdbc:odbc:rock");       
         Statement st=con.createStatement();
         if(mn>0)
         {
          int abc=mn-1;   
         ResultSet rs=st.executeQuery("select diesease,treatement,dates,treatement_id from treatement where treatement_id="+abc+" and code='"+txtcode.getText()+"' ");
           while(rs.next())
          {
             String s1=rs.getString("diesease");
             String s2=rs.getString("treatement");
             String s3=rs.getString("dates");
             String s4=rs.getString("treatement_id");
             txtdiesease.setText(s1);
             txttreatement.setText(s2);  
             lbldate1.setText(s3);
             lblvisit.setText(s4);
         }
         st.close();
        con.close();
         }
          else
             {
                 JOptionPane.showMessageDialog(this,"This Is The Last Record");
             }
        }   catch(SQLException sq)
         {
              JOptionPane.showMessageDialog(this,"Database Error","Treatement",JOptionPane.ERROR_MESSAGE);   
             
         } 
        catch(Exception e)
         {
            JOptionPane.showMessageDialog(this,"Error"+e);
         }
           mn--;

       
        
    }//GEN-LAST:event_btnpreviousActionPerformed

    private void btnbackActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnbackActionPerformed
    this.dispose();

// TODO add your handling code here:
    }//GEN-LAST:event_btnbackActionPerformed
    
    /**
     * @param args the command line arguments
     */

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnback;
    private javax.swing.JButton btnnext;
    private javax.swing.JButton btnprevious;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JLabel lblage;
    private javax.swing.JLabel lblallergy;
    private javax.swing.JLabel lblcode;
    private javax.swing.JLabel lbldate;
    private javax.swing.JLabel lbldate1;
    private javax.swing.JLabel lbldiesease;
    private javax.swing.JLabel lblgender;
    private javax.swing.JLabel lblhistory;
    private javax.swing.JLabel lblname;
    private javax.swing.JLabel lbltreatment;
    private javax.swing.JLabel lblvisit;
    private javax.swing.JTextField txtage;
    private javax.swing.JTextField txtallergy;
    private javax.swing.JTextField txtcode;
    private javax.swing.JTextArea txtdiesease;
    private javax.swing.JTextField txtgender;
    private javax.swing.JTextField txtname;
    private javax.swing.JTextArea txttreatement;
    // End of variables declaration//GEN-END:variables
    
}
