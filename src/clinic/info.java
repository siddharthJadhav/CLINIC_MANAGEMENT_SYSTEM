/*
 * info.java
 *
 * Created on March 22, 2012, 5:47 PM
 */

package clinic;

/**
 *
 * @author  Administrator
 */
import java.sql.*;
import javax.swing.JOptionPane;

public class info extends javax.swing.JFrame {
    
    /** Creates new form info */
    public info(String s) {
        initComponents();
        lblcode.setText(s);
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        txtname = new javax.swing.JTextField();
        txtcode = new javax.swing.JTextField();
        txtage = new javax.swing.JTextField();
        txtcontact = new javax.swing.JTextField();
        txtdob = new javax.swing.JTextField();
        txtallergy = new javax.swing.JTextField();
        txtoccupation = new javax.swing.JTextField();
        txtreference = new javax.swing.JTextField();
        btnback = new javax.swing.JButton();
        jLabel10 = new javax.swing.JLabel();
        lblcode = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txtaddress = new javax.swing.JTextArea();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("INFORMATION OF PATIENT");
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });

        jPanel1.setBackground(java.awt.Color.pink);

        jLabel1.setFont(new java.awt.Font("Times New Roman", 0, 18));
        jLabel1.setForeground(new java.awt.Color(102, 102, 102));
        jLabel1.setText("NAME");

        jLabel2.setFont(new java.awt.Font("Times New Roman", 0, 18));
        jLabel2.setForeground(new java.awt.Color(102, 102, 102));
        jLabel2.setText("CODE");

        jLabel3.setFont(new java.awt.Font("Times New Roman", 0, 18));
        jLabel3.setForeground(new java.awt.Color(102, 102, 102));
        jLabel3.setText("AGE");

        jLabel4.setFont(new java.awt.Font("Times New Roman", 0, 18));
        jLabel4.setForeground(new java.awt.Color(102, 102, 102));
        jLabel4.setText("CONTACT NO.");

        jLabel5.setFont(new java.awt.Font("Times New Roman", 0, 18));
        jLabel5.setForeground(new java.awt.Color(102, 102, 102));
        jLabel5.setText("ADDRESS");

        jLabel6.setFont(new java.awt.Font("Times New Roman", 0, 18));
        jLabel6.setForeground(new java.awt.Color(102, 102, 102));
        jLabel6.setText("DATE OF BIRTH");

        jLabel7.setFont(new java.awt.Font("Times New Roman", 0, 18));
        jLabel7.setForeground(new java.awt.Color(102, 102, 102));
        jLabel7.setText("ALLERGY");

        jLabel8.setFont(new java.awt.Font("Times New Roman", 0, 18));
        jLabel8.setForeground(new java.awt.Color(102, 102, 102));
        jLabel8.setText("OCCUPATION");

        jLabel9.setFont(new java.awt.Font("Times New Roman", 0, 18));
        jLabel9.setForeground(new java.awt.Color(102, 102, 102));
        jLabel9.setText("REFERENCE");

        txtname.setBackground(java.awt.Color.pink);
        txtname.setEditable(false);
        txtname.setFont(new java.awt.Font("Times New Roman", 0, 18));
        txtname.setForeground(new java.awt.Color(102, 102, 102));

        txtcode.setBackground(java.awt.Color.pink);
        txtcode.setEditable(false);
        txtcode.setFont(new java.awt.Font("Times New Roman", 0, 18));
        txtcode.setForeground(new java.awt.Color(102, 102, 102));

        txtage.setBackground(java.awt.Color.pink);
        txtage.setEditable(false);
        txtage.setFont(new java.awt.Font("Times New Roman", 0, 18));
        txtage.setForeground(new java.awt.Color(102, 102, 102));

        txtcontact.setBackground(java.awt.Color.pink);
        txtcontact.setEditable(false);
        txtcontact.setFont(new java.awt.Font("Times New Roman", 0, 18));
        txtcontact.setForeground(new java.awt.Color(102, 102, 102));

        txtdob.setBackground(java.awt.Color.pink);
        txtdob.setEditable(false);
        txtdob.setFont(new java.awt.Font("Times New Roman", 0, 18));
        txtdob.setForeground(new java.awt.Color(102, 102, 102));

        txtallergy.setBackground(java.awt.Color.pink);
        txtallergy.setEditable(false);
        txtallergy.setFont(new java.awt.Font("Times New Roman", 0, 18));
        txtallergy.setForeground(new java.awt.Color(102, 102, 102));

        txtoccupation.setBackground(java.awt.Color.pink);
        txtoccupation.setEditable(false);
        txtoccupation.setFont(new java.awt.Font("Times New Roman", 0, 18));
        txtoccupation.setForeground(new java.awt.Color(102, 102, 102));

        txtreference.setBackground(java.awt.Color.pink);
        txtreference.setEditable(false);
        txtreference.setFont(new java.awt.Font("Times New Roman", 0, 18));
        txtreference.setForeground(new java.awt.Color(102, 102, 102));

        btnback.setFont(new java.awt.Font("Times New Roman", 0, 24));
        btnback.setForeground(new java.awt.Color(0, 102, 0));
        btnback.setText("BACK");
        btnback.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnbackActionPerformed(evt);
            }
        });

        jLabel10.setFont(new java.awt.Font("Times New Roman", 0, 36));
        jLabel10.setForeground(new java.awt.Color(0, 102, 0));
        jLabel10.setText("INFORMATION OF PATIENT");

        lblcode.setText("jLabel11");

        txtaddress.setBackground(java.awt.Color.pink);
        txtaddress.setColumns(20);
        txtaddress.setFont(new java.awt.Font("Times New Roman", 0, 18));
        txtaddress.setForeground(new java.awt.Color(102, 102, 102));
        txtaddress.setLineWrap(true);
        txtaddress.setRows(5);
        jScrollPane1.setViewportView(txtaddress);

        org.jdesktop.layout.GroupLayout jPanel1Layout = new org.jdesktop.layout.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .add(lblcode)
                .add(70, 70, 70)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabel2)
                    .add(btnback, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 420, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jLabel10)
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jLabel9)
                            .add(jLabel8)
                            .add(jLabel4)
                            .add(jLabel5)
                            .add(jLabel7))
                        .add(40, 40, 40)
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(txtallergy, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 415, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(jPanel1Layout.createSequentialGroup()
                                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING, false)
                                    .add(org.jdesktop.layout.GroupLayout.LEADING, txtcontact)
                                    .add(org.jdesktop.layout.GroupLayout.LEADING, txtoccupation, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 226, Short.MAX_VALUE)
                                    .add(org.jdesktop.layout.GroupLayout.LEADING, jScrollPane1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED))
                            .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                                .add(txtcode, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 125, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                                .add(txtreference, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 125, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(jLabel1)
                            .add(jLabel6)
                            .add(jLabel3))
                        .add(26, 26, 26)
                        .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                            .add(txtage, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 105, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(txtdob, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 231, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                            .add(txtname, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 370, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))))
                .add(32, 32, 32))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(lblcode)
                    .add(jLabel10, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 27, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(28, 28, 28)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.TRAILING)
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(jLabel1)
                        .add(36, 36, 36)
                        .add(jLabel6))
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(txtname, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 39, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                        .add(19, 19, 19)
                        .add(txtdob, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 35, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                .add(18, 18, 18)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jLabel3)
                    .add(txtage, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 34, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(18, 18, 18)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabel2)
                    .add(txtcode, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 36, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(14, 14, 14)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jLabel9)
                    .add(txtreference, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 38, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(23, 23, 23)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(txtoccupation, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 34, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                    .add(jLabel8))
                .add(29, 29, 29)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(jLabel4)
                    .add(txtcontact, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 36, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(17, 17, 17)
                        .add(jScrollPane1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(32, 32, 32)
                        .add(jLabel5)))
                .add(24, 24, 24)
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jLabel7)
                    .add(txtallergy, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 39, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .add(33, 33, 33)
                .add(btnback, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 38, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .add(37, 37, 37))
        );

        org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 729, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
// TODO add your handling code here:
        String info;
        lblcode.setVisible(false);
        info=lblcode.getText();
        
        
           try{
                   Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
        Connection con=DriverManager.getConnection("jdbc:odbc:rock");
        Statement st=con.createStatement();
         ResultSet rs=st.executeQuery("select fname,mname,lname, convert(varchar(12),dob,106) as dob,age,address,contact,code,reference,occupation,allergy from register where code='"+info+"'");
         while(rs.next())
          {
            String a,b,c,d,f,g,h,i,j,k,l;
            
               int e; 
             
              a=rs.getString("fname");
              b=rs.getString("mname");
              c=rs.getString("lname");
              d=a+" "+b+" "+c;                     
              f=rs.getString("dob");
              e=rs.getInt("age");      
              g=rs.getString("address");
              h=rs.getString("contact");
              i=rs.getString("code");
              j=rs.getString("reference");
              k=rs.getString("occupation");
              l=rs.getString("allergy");
              
              txtname.setText(d);
              txtdob.setText(f);
              txtage.setText(""+e);
              txtaddress.setText(g);
              txtcontact.setText(h);
              txtcode.setText(i);
              txtreference.setText(j);
              txtoccupation.setText(k);
              txtallergy.setText(l);
          }
         st.close();
        con.close();
        }
         catch(SQLException sq)
         {
            JOptionPane.showMessageDialog(this,"Database Error","Register",JOptionPane.ERROR_MESSAGE);
            this.dispose();
         } 
               catch(Exception e)
         {
         JOptionPane.showMessageDialog(this,"Error"+e);
          this.dispose();
         }
      
    }//GEN-LAST:event_formWindowOpened

    private void btnbackActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnbackActionPerformed
// TODO add your handling code here:
        this.dispose();
    }//GEN-LAST:event_btnbackActionPerformed
    
    /**
     * @param args the command line arguments
     */

    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnback;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lblcode;
    private javax.swing.JTextArea txtaddress;
    private javax.swing.JTextField txtage;
    private javax.swing.JTextField txtallergy;
    private javax.swing.JTextField txtcode;
    private javax.swing.JTextField txtcontact;
    private javax.swing.JTextField txtdob;
    private javax.swing.JTextField txtname;
    private javax.swing.JTextField txtoccupation;
    private javax.swing.JTextField txtreference;
    // End of variables declaration//GEN-END:variables
    
}
