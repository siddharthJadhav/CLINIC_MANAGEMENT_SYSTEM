/*
 * relative.java
 *
 * Created on March 2, 2012, 8:13 PM
 */

package clinic;

/**
 *
 * @author  Administrator
 */

//import java.awt.event.ActionEvent;
import java.util.Vector;
import javax.swing.*;
import java.sql.*;
//import javax.swing.table.TableModel;


public class reminder extends javax.swing.JFrame {
    
    /** Creates new form relative */
    
       JTable jTable4;
    JScrollPane jScrollPane4;
    String t1,t2,t3,t4;
      Connection con;
    
    public reminder() {
        initComponents();
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        remintable = new javax.swing.JTable();
        lblname = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        lblnname = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Reminder");
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowActivated(java.awt.event.WindowEvent evt) {
                formWindowActivated(evt);
            }
        });

        jPanel1.setForeground(java.awt.Color.white);

        remintable.setFont(new java.awt.Font("Times New Roman", 0, 14));
        remintable.setForeground(java.awt.Color.white);
        remintable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null, null}
            },
            new String [] {
                "F-NAME", "M-NAME", "L-NAME", "CODE", "CONTACT", "ADDRESS"
            }
        ));
        remintable.setName("remintable"); // NOI18N
        jScrollPane1.setViewportView(remintable);

        lblname.setFont(new java.awt.Font("Algerian", 1, 36));
        lblname.setForeground(new java.awt.Color(0, 153, 0));
        lblname.setText("REMINDER");

        jButton1.setFont(new java.awt.Font("Times New Roman", 0, 14));
        jButton1.setText("CLOSE");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        lblnname.setFont(new java.awt.Font("Algerian", 0, 18));
        lblnname.setForeground(new java.awt.Color(255, 51, 102));

        org.jdesktop.layout.GroupLayout jPanel1Layout = new org.jdesktop.layout.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
                    .add(jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .add(jScrollPane1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 977, Short.MAX_VALUE))
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(308, 308, 308)
                        .add(jButton1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 198, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                    .add(jPanel1Layout.createSequentialGroup()
                        .add(296, 296, 296)
                        .add(lblname)
                        .add(65, 65, 65)
                        .add(lblnname, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 304, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .add(jPanel1Layout.createParallelGroup(org.jdesktop.layout.GroupLayout.BASELINE)
                    .add(lblname)
                    .add(lblnname, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 28, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(jScrollPane1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 568, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.UNRELATED)
                .add(jButton1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, 38, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(20, Short.MAX_VALUE))
        );

        org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .addContainerGap()
                .add(jPanel1, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(jPanel1, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void formWindowActivated(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowActivated
// TODO add your handling code here:
    int i=0;
       
                        
        Vector columnnames=new Vector();
          Vector data=new Vector();
   
             try
             {
         Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
         con=DriverManager.getConnection("jdbc:odbc:rock");
     
         Statement st=con.createStatement();
         ResultSet re=st.executeQuery("select r.fname as F_Name,r.mname as M_Name,r.lname as L_Name,r.code as Code,r.gender as Gender,r.contact as Contact,r.address as Address from register r ,    reminder re where r.code=re.code and convert(varchar(12),getdate(),106)=re.dates1");
         
         ResultSetMetaData md=re.getMetaData();
         int columns=md.getColumnCount();
         for(i=1;i<=columns;i++)
          {
             columnnames.addElement(md.getColumnName(i));
          }
         while(re.next())
          {
           Vector row=new Vector(columns);
           for(i=1;i<=columns;i++)
             {
              row.addElement(re.getObject(i));
             }
           data.addElement(row);
          }
          jTable4=new JTable(data,columnnames);
      jScrollPane4=new JScrollPane(jTable4);
      remintable.setCellEditor(jTable4.getCellEditor());
      jScrollPane1.setViewportView(jTable4);

  st.close();
        con.close();
    } catch(SQLException sq)
         {
              lblnname.setText("Database Error");   
            
         } 
         catch(Exception e)
         {
          lblnname.setText("There Is Error Occur");  
          
         
         }
        
    }//GEN-LAST:event_formWindowActivated

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
// TODO add your handling code here:
        this.dispose();
    }//GEN-LAST:event_jButton1ActionPerformed
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new reminder().setVisible(true);
            }
        });
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lblname;
    private javax.swing.JLabel lblnname;
    private javax.swing.JTable remintable;
    // End of variables declaration//GEN-END:variables
    
}
